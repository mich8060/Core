(function ($) {
	$.fn.setProgress = function(percent) {
		$el = $('.progress');
		$el.css({
			opacity:1,
			width:"0%"
		});
		$el.animate({
			width:percent+"%"
		},750,function(){
			$el.animate({
				opacity:0,
			},1000, function(){
				$el.css('width','0%');
			});
		});
	};
})(Zepto);

$(document).ready(function(){
	
	prettyPrint();
	
	$('form').submit(function(e){
		e.preventDefault();
		$obj = $(this);
		$.ajax({
			url: $obj.attr("action"),
			type: $obj.attr("method"),
		  	data: $obj.serialize(),
			success: function(data){
				$obj.find('.success-msg').show();
			},
			error: function(xhr, type){
				$obj.find('.error-msg').show();
			}
		});
	});

	
});